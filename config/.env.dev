# ARKA Microservices - Local Development Environment
# Este archivo define variables de entorno para desarrollo local

# =================================
# Database Configuration
# =================================
SPRING_R2DBC_URL=r2dbc:h2:mem:///arka_dev_db?options=DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
SPRING_R2DBC_USERNAME=sa
SPRING_R2DBC_PASSWORD=

# Alternative PostgreSQL configuration (uncomment to use)
# SPRING_R2DBC_URL=r2dbc:postgresql://localhost:5432/arka_db
# SPRING_R2DBC_USERNAME=arka
# SPRING_R2DBC_PASSWORD=arka123

# =================================
# Service Discovery
# =================================
EUREKA_CLIENT_SERVICE_URL_DEFAULTZONE=http://localhost:8761/eureka/
EUREKA_INSTANCE_PREFER_IP_ADDRESS=true

# =================================
# Configuration Server
# =================================
SPRING_CLOUD_CONFIG_URI=http://localhost:9090
SPRING_CLOUD_CONFIG_FAIL_FAST=false

# =================================
# Message Broker
# =================================
SPRING_RABBITMQ_HOST=localhost
SPRING_RABBITMQ_PORT=5672
SPRING_RABBITMQ_USERNAME=arka
SPRING_RABBITMQ_PASSWORD=arka123
SPRING_RABBITMQ_VIRTUAL_HOST=/

# =================================
# Cache (Redis)
# =================================
SPRING_REDIS_HOST=localhost
SPRING_REDIS_PORT=6379
SPRING_REDIS_PASSWORD=arka123

# =================================
# Security Configuration
# =================================
ARKA_SECURITY_JWT_SECRET=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
ARKA_SECURITY_JWT_EXPIRATION=86400
ARKA_SECURITY_JWT_REFRESH_EXPIRATION=604800
ARKA_SECURITY_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4200

# =================================
# Monitoring & Observability
# =================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# =================================
# Logging
# =================================
LOGGING_LEVEL_COM_ARKA=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_CLOUD=INFO
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=DEBUG
LOGGING_LEVEL_REACTOR_NETTY=INFO

# =================================
# Circuit Breaker
# =================================
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_DEFAULT_SLIDING_WINDOW_SIZE=10
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_DEFAULT_MINIMUM_NUMBER_OF_CALLS=5
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_DEFAULT_FAILURE_RATE_THRESHOLD=50

# =================================
# Development Specific
# =================================
SPRING_PROFILES_ACTIVE=dev
SPRING_DEVTOOLS_RESTART_ENABLED=true
SPRING_H2_CONSOLE_ENABLED=true
