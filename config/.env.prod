# ARKA Microservices - Production Environment
# Este archivo define variables de entorno para producci√≥n

# =================================
# Database Configuration
# =================================
SPRING_R2DBC_URL=r2dbc:postgresql://postgres:5432/arka_db
SPRING_R2DBC_USERNAME=arka
SPRING_R2DBC_PASSWORD=arka123

# =================================
# Service Discovery
# =================================
EUREKA_CLIENT_SERVICE_URL_DEFAULTZONE=http://eureka-server:8761/eureka/
EUREKA_INSTANCE_PREFER_IP_ADDRESS=true
EUREKA_INSTANCE_LEASE_RENEWAL_INTERVAL_IN_SECONDS=10
EUREKA_INSTANCE_LEASE_EXPIRATION_DURATION_IN_SECONDS=30

# =================================
# Configuration Server
# =================================
SPRING_CLOUD_CONFIG_URI=http://config-server:9090
SPRING_CLOUD_CONFIG_FAIL_FAST=true
SPRING_CLOUD_CONFIG_RETRY_INITIAL_INTERVAL=3000
SPRING_CLOUD_CONFIG_RETRY_MAX_ATTEMPTS=6

# =================================
# Message Broker
# =================================
SPRING_RABBITMQ_HOST=rabbitmq
SPRING_RABBITMQ_PORT=5672
SPRING_RABBITMQ_USERNAME=arka
SPRING_RABBITMQ_PASSWORD=arka123
SPRING_RABBITMQ_VIRTUAL_HOST=/

# =================================
# Cache (Redis)
# =================================
SPRING_REDIS_HOST=redis
SPRING_REDIS_PORT=6379
SPRING_REDIS_PASSWORD=arka123

# =================================
# Security Configuration
# =================================
ARKA_SECURITY_JWT_SECRET=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
ARKA_SECURITY_JWT_EXPIRATION=86400
ARKA_SECURITY_JWT_REFRESH_EXPIRATION=604800
ARKA_SECURITY_CORS_ALLOWED_ORIGINS=https://arka-frontend.com,https://admin.arka-frontend.com

# =================================
# Monitoring & Observability
# =================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when_authorized
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# =================================
# Logging
# =================================
LOGGING_LEVEL_COM_ARKA=INFO
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_CLOUD=WARN
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=WARN
LOGGING_LEVEL_REACTOR_NETTY=WARN
LOGGING_LEVEL_ROOT=WARN

# =================================
# Circuit Breaker
# =================================
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_DEFAULT_SLIDING_WINDOW_SIZE=20
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_DEFAULT_MINIMUM_NUMBER_OF_CALLS=10
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_DEFAULT_FAILURE_RATE_THRESHOLD=50

# =================================
# Production Specific
# =================================
SPRING_PROFILES_ACTIVE=prod
SPRING_JPA_SHOW_SQL=false
SPRING_H2_CONSOLE_ENABLED=false

# =================================
# Resource Limits
# =================================
JVM_OPTS=-Xms512m -Xmx1024m -XX:+UseG1GC -XX:+UseContainerSupport
